var all_pairs = []
$('div#legend input').each(function() {
  pair = {}
  collaborator_id = $(this).attr("id")
  // defaults to not selected
  selected = false
  if ($(this).is(":checked")) {
    selected = true  
  }
  pair[collaborator_id] = selected
  all_pairs.push(pair)
});
updateSelectedCollaborators(all_pairs)

function updateSelectedCollaborators(pairs){
  $.ajax({
    url: '/dashboard/update_selected',
    type: 'POST',
    data: {"pairs": pairs},
  })
  .done(function() {
    // console.log("success");
  })
  .fail(function() {
    console.log("error");
  })
  .always(function() {
    console.log("complete");
  });
  
}