renderCategories()
renderCategoryTitle()

setActiveTab()
setQuestionFooter()
changeButtonId()
renderQuestions()

/**
 * Render categories in sidebar
 * @return {void} 
 */
function renderCategories(){
  $('div.categories').html("<%= j (render partial: 'categories', object: [@categories, @active_category] ) %>")
}

/**
 * Render title in category
 * @return {void} 
 */
function renderCategoryTitle(){
  <% if @active_category != nil %>
    $('div.category_title').html("<%= j (render partial: 'category_title', object: @active_category) %>")
  <% end %>
}


/**
 * Set colors for active tabs
 * @return {void} 
 */
function setActiveTab(){
  <% if @active_category != nil %>
    $('.active').removeClass('active')
    $("div.categories #<%= @active_category.id %>").addClass('active')
  <% end %>
}

function setQuestionFooter(){
  <% if @active_category != nil%>
    if (!$(".question-panel").is(":visible")){      
      $(".question-panel").show()
    }
  <% else%>
    $(".question-panel").hide() 
  <% end %>
}
/**
 * Change Send question id to current category id
 * @return {void} 
 */
function changeButtonId(){
  <% if @active_category != nil %>
    $('.add-question').attr("id", <%= @active_category.id %>) 
  <% else %>
    $('.add-question').attr("id", "-1") 
  <% end %>
}
/**
 * Render questions for category
 * @return {void} 
 */
function renderQuestions(){
  <% if @active_category == nil %>
    $('div.questions').html("<%= j (render partial: 'empty_questions') %>")
  <% else %>
    $('div.questions').html("<%= j (render partial: 'questions', object: @active_category) %>")
  <% end %>
}